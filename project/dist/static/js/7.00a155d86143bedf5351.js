webpackJsonp([7],{"0t9z":function(t,a,e){"use strict";function i(t){e("CTx9")}Object.defineProperty(a,"__esModule",{value:!0});var o,n=e("bOdI"),s=e.n(n),l=e("TtmE"),r=e("C8pC"),c=e("D7x1"),d=(e("lbHh"),o={name:"home",data:function(){return{timers:[],currentMonth:[],yearTime:"",dataForm:{activateYear:null},videoPayLine:null,dateStrList:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],durationMaxNumList:[],tabOrgInfoList:[],tableLabel:[],listData:[],dataInfo:[],isShowSelect:!1,loading:!1}},watch:{},filters:{},created:function(){this.defaultYaer()},components:{MsgBox:l.a,FromDialog:r.a,TableCmp:c.a},computed:{}},s()(o,"watch",{}),s()(o,"mounted",function(){var t=this;this.initTableData(),this.getListData(),window.addEventListener("resize",function(){t.videoPayLine&&t.videoPayLine.resize()})}),s()(o,"methods",{columnStyle:function(t){var a=(t.row,t.column,t.rowIndex),e=t.columnIndex;if(this.tabOrgInfoList.length-1===a&&0===e)return"font-weight:bold;color:#333"},headerStyle:function(t){t.row,t.column,t.rowIndex;if(13===t.columnIndex)return"font-weight:bold;color:#333"},toChinesNum:function(t){var a=["零","一","二","三","四","五","六","七","八","九"],e=["","十","百","千","万"];t=parseInt(t);var i=function(t){for(var i=t.toString().split("").reverse(),o="",n=0;n<i.length;n++)o=(0==n&&0==i[n]?"":n>0&&0==i[n]&&0==i[n-1]?"":a[i[n]]+(0==i[n]?e[0]:e[n]))+o;return o},o=Math.floor(t/1e4),n=t%1e4;return n.toString().length<4&&(n="0"+n),o?i(o)+"万"+i(n):i(t).length>1?i(t).substring(1):i(t)},countTotal:function(t,a){return t.reduce(function(t,e){return e[a]?t+e[a]:t},0)},initTableData:function(){var t=[],a={label:"机构",param:"orgName",align:"left",sortable:!0,isshow:!0},e={label:"合计",param:"orgActiveTotal",align:"left",sortable:!0,isshow:!0,className:"font-weight-900"};t.unshift(a);for(var i=1;i<=12;i++){var o={label:this.toChinesNum(i)+"月",param:""+i,align:"left",sortable:!0,isshow:!0};t.push(o)}t.push(e),this.tableLabel=t},defaultYaer:function(){this.yearTime=(new Date).getFullYear().toString(),this.dataForm.activateYear=(new Date).getFullYear()},currentYearChange:function(t){this.dataForm.activateYear=t,this.getListData()},getListData:function(){var t=this;this.loading=!0,this.utils.http({url:"/stat/video/device/activate/record",method:"post",data:this.dataForm},function(a){if(t.loading=!1,200==a.code){if(t.dataInfo=a.data.statVideoDeviceActivateRecordDtoList||[],a.data.statVideoDeviceActivateRecordDtoList&&a.data.statVideoDeviceActivateRecordDtoList.length>0){var e=[];a.data.statVideoDeviceActivateRecordDtoList.forEach(function(t){var a={},i=0;t.activateNumList.reduce(function(t,a){return i=t+a}),t.activateNumList.forEach(function(t,e){a[e+1]=t}),console.log("@@",a),a.orgName=t.orgName,a.orgActiveTotal=i,e.push(a)});var i={};for(var o in t.tableLabel)"orgName"==t.tableLabel[o].param?i[t.tableLabel[o].param]="合计":i[t.tableLabel[o].param]=t.countTotal(e,t.tableLabel[o].param);e.push(i),t.tabOrgInfoList=e}else t.tabOrgInfoList=[];t.chartVideoPay()}})},chartVideoPay:function(){var t=[],a=[];this.dataInfo.length>0&&this.dataInfo.forEach(function(e,i){var o={};t.push(e.orgName),o.name=e.orgName,o.type="line",o.stack="Total",o.data=e.activateNumList,a.push(o)}),console.log("@@@@@#",a),this.videoPayLine=this.$echarts.init(document.getElementById("chartVideo"));var e={tooltip:{trigger:"axis"},legend:{data:t},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.dateStrList},yAxis:{type:"value"},series:a};this.videoPayLine.setOption(e,!0)}}),o),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),e("section",{staticClass:"content container-fluid tree-color"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"panel-body",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"box box-primary mb-10"},[e("div",{staticClass:"box-body"},[e("div",{staticClass:"row m-0"},[e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"col-lg-2 pl-0"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-md-12"},[e("el-date-picker",{attrs:{format:"yyyy","value-format":"yyyy",type:"year",placeholder:"请选择年份",clearable:!1},on:{change:t.currentYearChange},model:{value:t.yearTime,callback:function(a){t.yearTime=a},expression:"yearTime"}})],1)])]),t._v(" "),e("div",{staticClass:"col-lg-2 pr-0"},[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-primary",attrs:{id:"btn_device_search",type:"button"},on:{click:t.getListData}},[e("span",{staticClass:"glyphicon glyphicon-search",attrs:{"aria-hidden":"true"}}),t._v("查询\n                                            ")])])])])])])]),t._v(" "),e("div",{staticClass:"box-body"},[t._m(1),t._v(" "),e("table-cmp",{ref:"tableChild",attrs:{"table-data":t.tabOrgInfoList,"table-label":t.tableLabel,"is-show-select":t.isShowSelect,"header-style":t.headerStyle,"column-style":t.columnStyle}})],1)])])])])])},h=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"content-header"},[e("h1",{staticClass:"nice"},[t._v("\n            激活统计\n            ")]),t._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"active"},[e("i",{staticClass:"glyphicon glyphicon-adjust"}),t._v(" 激活统计\n            ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mt-30 mb-30"},[e("div",{staticClass:"col-sm-12"},[e("h4",[t._v("激活统计")])]),t._v(" "),e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"chart",staticStyle:{width:"100%",height:"340px","padding-right":"10px"},attrs:{id:"chartVideo"}})])])}],v={render:u,staticRenderFns:h},f=v,m=e("VU/8"),b=i,p=m(d,f,!1,b,"data-v-30795ada",null);a.default=p.exports},"1Did":function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,"\n.btn-group-box[data-v-30795ada]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.btn-group-box>div[data-v-30795ada]{-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.channel-pay[data-v-30795ada] .el-select{width:100%\n}\n.el-date-editor.el-input[data-v-30795ada],.el-date-editor.el-input__inner[data-v-30795ada]{width:100% !important\n}\n.content-wrapper .el-table th.is-leaf[data-v-30795ada]:last-child{color:red !important\n}\n.Summary[data-v-30795ada]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:30px 0\n}\n.el-table[data-v-30795ada]{max-height:200px;overflow-y:scroll\n}\n.custom-style[data-v-30795ada]{color:#0099FF;font-size:22px\n}\n.el-table[data-v-30795ada]::before{height:0\n}\n",""])},CTx9:function(t,a,e){var i=e("1Did");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("4825dd6f",i,!0)}});