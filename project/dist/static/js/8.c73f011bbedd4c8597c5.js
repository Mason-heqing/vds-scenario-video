webpackJsonp([8],{"39Yz":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'\n.el-card[data-v-0294a81e]{width:98.2%;margin:15px auto 0 auto;border-top:3px solid #3c8dbc\n}\n.wrapper-content[data-v-0294a81e]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.content_video[data-v-0294a81e]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:25px;width:65%\n}\n.video-box[data-v-0294a81e]{position:relative;width:100%\n}\n.video-box1[data-v-0294a81e]{width:calc(calc(100% / 2) - 10px);margin:2px 2px\n}\n.video-box2[data-v-0294a81e]{width:calc(calc(100% / 3) - 10px);margin:2px 2px\n}\n.warpper-topBox[data-v-0294a81e]{width:225px;margin:0  auto 25px auto\n}\n.content_left[data-v-0294a81e]{width:20%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column\n}\n.content_left span[data-v-0294a81e]{font-size:16px;margin-top:25px\n}\n.content_left[data-v-0294a81e] .el-input{width:100%\n}\n.el_tabs[data-v-0294a81e]{margin-top:25px;width:100%\n}\n.el_tabs [class^="el-icon-"][data-v-0294a81e],.el_tabs [class*=" el-icon-"][data-v-0294a81e]{margin:0 5px;color:#3c8dbc\n}\n.el_tabs .btn-group-box[data-v-0294a81e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between\n}\n.el_tabs .btn-group-box>div[data-v-0294a81e]{-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.el_tabs .all-group[data-v-0294a81e]{height:42px;line-height:42px;padding-left:20px;border:1px solid #ddd;border-bottom:0\n}\n@media (max-width: 1200px){\n.el_tabs .btn-group-box[data-v-0294a81e]{margin-top:15px\n}\n}\n.el_tabs .el-tab-pane[data-v-0294a81e]{padding-bottom:10px\n}\n.el_tabs .set-pop[data-v-0294a81e] .el-dialog__body{padding:0 20px\n}\n.el_tabs .set-pop[data-v-0294a81e] .icon-warning{color:#E6A23C;font-size:24px !important\n}\n.el_tabs .set-pop[data-v-0294a81e] .tip{color:red;display:block;margin:5px 0\n}\n.el_tabs .check-btn[data-v-0294a81e]{cursor:pointer\n}\n.el_tabs .upload-zip[data-v-0294a81e] .el-upload-list__item{width:60%\n}\n.el_tabs .upload-zip[data-v-0294a81e] .el-upload-list__item a{font-size:16px\n}\n.el_tabs .grant-box[data-v-0294a81e]{text-align:left;cursor:pointer\n}\n.el_tabs .grant-box>div[data-v-0294a81e]{height:6px;background:#00a65a;border-radius:3px\n}\n.el_tabs .grant-box>div.grant-color-s[data-v-0294a81e]{width:100%;background:#00a65a\n}\n.el_tabs .grant-box>div.grant-color-f[data-v-0294a81e]{width:0;background:#dd4b39\n}\n.el_tabs .grant-box>div.grant-color-half[data-v-0294a81e]{width:50%;background:#e6a23c\n}\n.el_tabs .grant-box>span[data-v-0294a81e]{padding:0px 6px;height:18px;display:inline-block;border-radius:10px;text-align:center;color:#fff;line-height:18px;font-size:12px\n}\n.el_tabs .grant-box>span.grant-num-s[data-v-0294a81e]{background:#00a65a\n}\n.el_tabs .grant-box>span.grant-num-f[data-v-0294a81e]{background:#dd4b39\n}\n.el_tabs .grant-box>span.grant-num-half[data-v-0294a81e]{background:#e6a23c\n}\n.active_A[data-v-0294a81e]{color:blue\n}\n.video-close[data-v-0294a81e]{position:absolute;right:5%;top:6%;cursor:pointer;color:#ffffff\n}\n.Camera_box[data-v-0294a81e]{position:relative;margin:0 20px;width:165px;height:170px\n}\n.Camera_box .img_box img[data-v-0294a81e]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);cursor:pointer\n}\n.Camera_box .img_box1[data-v-0294a81e]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:32px;height:32px;cursor:pointer\n}\n.Camera_box .img_box2[data-v-0294a81e]{position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:32px;height:32px;cursor:pointer\n}\n.Camera_box .img_box3[data-v-0294a81e]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:32px;height:32px;cursor:pointer\n}\n.Camera_box .img_box4[data-v-0294a81e]{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:32px;height:32px;cursor:pointer\n}\n.my-wth[data-v-0294a81e]{width:13%\n}\n.flex-style[data-v-0294a81e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end\n}\n.el-row[data-v-0294a81e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center\n}\n.device-list[data-v-0294a81e]{max-height:407px;overflow-y:scroll\n}\n.device-list .el-radio-group[data-v-0294a81e]{width:100%\n}\n.device-list .el-radio-button[data-v-0294a81e]{display:block;width:100%\n}\n.device-list .el-radio-button[data-v-0294a81e] .el-radio-button__inner{width:100%;border-left:1px solid #DCDFE6\n}\n.red[data-v-0294a81e]{color:red\n}\n.green[data-v-0294a81e]{color:green\n}\n',""])},N0gM:function(t,e,a){var i=a("39Yz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5aa2ad8f",i,!0)},Rq5E:function(t,e,a){"use strict";function i(t){a("N0gM")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("TtmE"),o=a("D7x1"),n=a("7lXo"),l=a("5Wmi"),r=a("pOg+"),c=a("18Ef"),d=a("lbHh"),p=a.n(d),u={name:"home",data:function(){return{msg:"视频资源-时长包",isBtn:!1,currentPage:1,currentPage1:1,popVisible:!1,popTitle:"这个是标题",popContent:"这个是内容",total:0,multipleSelection:[],tableData:[],tableLabel:[{label:"机构",param:"orgName",align:"center",sortable:!0,isshow:!0,width:"120"},{label:"项目(车场)",param:"appName",align:"center",sortable:!0,isshow:!0,width:"120"},{label:"设备序列号",param:"deviceSerial",align:"center",sortable:!0,isshow:!0,width:"100"},{label:"设备名称",param:"deviceName",align:"center",isshow:!0,sortable:!0,width:"120"},{label:"时长包个数",param:"durationPackageNum",align:"center",isshow:!0,sortable:!0,width:"100"},{label:"可播时长",param:"specificationDesc",align:"center",isshow:!0,sortable:!0,width:"100"},{label:"剩余时长",param:"remainingSecondsDesc",align:"center",isshow:!0,sortable:!0,width:"100"},{label:"播放状态",param:"videoPlayingDesc",align:"center",isshow:!0,sortable:!0,width:"100"},{slot:"operate",isshow:!0}],tableOption:[],tableSelect:[],activeName:"first",isShowSelect:!0,personType:[{value:"1",label:"户主"},{value:"2",label:"家庭成员"},{value:"3",label:"租客"},{value:"5",label:"其他"}],orgIdList:[],appIdList:[],pageVo:{appId:"",orgId:p.a.get("orgId"),category:1,deviceSearch:"",currentPage:1,pageSize:10},TimesBindDeviceIdList:[],timesPackAgeList:[],timesPackAgeDialogVisible:!1,timesPackAgeForm:{deviceIdList:[],packageIdList:[]},resourcesDialogVisible:!1,resourcesList:[],resourcesId:"",TipsdialogVisible:!1,tipsList:[],PersonListForm:{appId:"",pageNum:1,pageSize:10,personName:"",subtype:"",groupId:""},PersonListForm1:{appId:"",pageNum:1,pageSize:10,personName:"",subtype:"",time:"",bindStatus:""},total1:1,tableOption1:[],tableSelect1:[],loading:!1,loading1:!1,loading2:!1,cascaderData:[],showCheckTip:!1,outPop:!1,outChecked:!1,previewImg:[],showViewer:!1,imgurl:"",tabIndex:0,importPop:!1,fileList:[],uploadData:{appId:""},authPopVisible:!1,authPopTitle:"",authId:"",authName:"",isExport:!1,exportUrl:"",exportErrList:[],exporterrPop:!1,timer:null,elcascaderkey:1,transferType:"我的",timePacketForm:{source:"",timesLength:""},sourceType:[{name:"购买",id:1},{name:"赠送",id:2}],statusList:[{name:"全部",id:0},{name:"已绑定",id:1},{name:"为绑定",id:2}],dialogVisible:!1,activeNamePaytype:"first",exportVisible:!1,activationCode:"",transferInstitutionVisible:!1,props:{label:"name",children:"zones"},count:1}},filters:{},created:function(){},computed:{},watch:{},components:{MsgBox:s.a,TableCmp:o.a,TableBmp:n.a,ElImageViewer:l.a,ExportBox:r.a,AuthBox:c.a},mounted:function(){this.getApplist(),this.getmechanism(),this.getTableData()},methods:{paySelect:function(){this.dialogVisible=!0},exportModel:function(){this.exportVisible=!0},handleCheckChange:function(t,e,a){console.log(t,e,a)},handleNodeClick:function(t){console.log(t)},loadNode:function(t,e){var a=this;if(0===t.level)return e([{name:"region1"},{name:"region2"}]);if(t.level>3)return e([]);var i;i="region1"===t.data.name||"region2"!==t.data.name&&Math.random()>.5,setTimeout(function(){var t;t=i?[{name:"zone"+a.count++},{name:"zone"+a.count++}]:[],e(t)},500)},elCascaderOnlick:function(){var t=this;setTimeout(function(){document.querySelectorAll(".el-cascader-node__label").forEach(function(e){e.onclick=function(){this.previousElementSibling.click(),t.$refs.elcascader.dropDownVisible=!1}}),document.querySelectorAll(".el-cascader-panel .el-radio").forEach(function(e){e.onclick=function(){t.$refs.elcascader.dropDownVisible=!1}})},100)},assignmentBtn:function(){this.transferInstitutionVisible=!0},checkboxChange:function(t){for(var e=0;e<this.tableLabel.length;e++)this.tableSelect.indexOf(this.tableLabel[e].label)>-1?this.tableLabel[e].isshow=!0:this.tableLabel[e].isshow=!1},checkboxChange1:function(t){for(var e=0;e<this.tableLabel1.length;e++)this.tableSelect1.indexOf(this.tableLabel1[e].label)>-1?this.tableLabel1[e].isshow=!0:this.tableLabel1[e].isshow=!1},getApplist:function(){var t=this;this.utils.http({url:"/org/search/child/app?orgId="+p.a.get("orgId"),method:"POST"},function(e){200==e.code&&(t.appIdList=e.data)})},getmechanism:function(){var t=this;this.utils.http({url:"/org/search/select?orgId="+p.a.get("orgId"),method:"POST"},function(e){200==e.code&&(t.orgIdList=e.data)})},getTiemsPackAgeList:function(){var t=this;this.loading1=!0,this.utils.http({url:"/pool/duration/search/select?orgId="+p.a.get("orgId"),method:"POST"},function(e){t.loading1=!1,200==e.code&&(e.data.forEach(function(t){t.timesPackAgeNum=0}),t.timesPackAgeList=e.data)})},getResourceslist:function(){var t=this;this.loading2=!0,this.resourcesDialogVisible=!0,this.utils.http({url:"/pool/specialized/search/select?orgId="+p.a.get("orgId"),method:"POST"},function(e){t.loading2=!1,200==e.code&&(t.resourcesList=e.data)})},allDistributionTimesPack:function(){var t=this.$refs.tableChild.selectData;if(0===t.length)return void this.$message.error("请选择设备");var e=[];t.forEach(function(t,a){e.push(t.deviceId)}),this.TimesBindDeviceIdList=e,this.getTiemsPackAgeList(),this.timesPackAgeDialogVisible=!0},sendTimesPackAge:function(){var t=this,e=[];this.timesPackAgeList.forEach(function(t,a){var i={};i.duration=t.duration,i.durationDesc=t.durationDesc,i.packageNum=parseInt(t.timesPackAgeNum),e.push(i)});var a={deviceIdList:this.TimesBindDeviceIdList,orgId:p.a.get("orgId"),packageNumDtoList:e};this.isBtn=!0,this.utils.http({url:"/pool/duration/add/package",method:"POST",data:a},function(e){t.isBtn=!1,t.loading=!1,200==e.code&&(t.timesPackAgeDialogVisible=!1,t.utils.tip("success","时长包添加成功"),t.getTableData())})},timesChange:function(t,e){parseInt(this.timesPackAgeList[e].packageNum)<=t?this.timesPackAgeList[e].timesPackAgeNum=parseInt(this.timesPackAgeList[e].packageNum):0===t.indexOf(0)?this.timesPackAgeList[e].timesPackAgeNum=0:""===t&&(this.timesPackAgeList[e].timesPackAgeNum=0)},addTimesPackAge:function(t){console.log(t),this.getTiemsPackAgeList(),this.TimesBindDeviceIdList=[],this.TimesBindDeviceIdList.push(t.deviceId),this.timesPackAgeList.forEach(function(t,e){t.timesPackAgeNum=0}),this.timesPackAgeDialogVisible=!0},getTableData:function(){var t=this;this.loading=!0,this.utils.http({url:"/pool/duration/search",method:"POST",data:this.pageVo},function(e){t.loading=!1,200==e.code&&e.data&&e.data.records.length>0?(t.total=e.data.total,t.tableData=e.data.records,t.currentPage=e.data.current):(t.total=0,t.tableData=[],t.currentPage=1)})},outResources:function(t){this.TimesBindDeviceIdList=[t.deviceId],this.getResourceslist()},allOutResources:function(){var t=this.$refs.tableChild.selectData;if(0===t.length)return void this.$message.error("请选择设备");var e=[];t.forEach(function(t,a){e.push(t.deviceId)}),this.TimesBindDeviceIdList=e,this.getResourceslist()},selectResource:function(){var t=this;if(""==this.resourcesId)return void this.$message.error("请选择资源池");var e={deviceIdList:this.TimesBindDeviceIdList,orgId:p.a.get("orgId"),specializedPoolId:this.resourcesId};this.utils.http({url:"/pool/duration/bind/specializedPool",method:"POST",data:e},function(e){t.loading=!1,200==e.code&&(t.resourcesDialogVisible=!1,t.tipsList=e.data,t.TipsdialogVisible=!0,t.getTableData())})},resetBtn:function(){this.pageVo={appId:"",orgId:p.a.get("orgId"),category:1,deviceSearch:"",currentPage:1,pageSize:10},this.getTableData()},closePop:function(){this.popIndex=1,this.checkPopTitle="审核",this.checkForm.bindFailReseaon=""},open:function(){var t=this;this.timer=setTimeout(function(){t.popVisible=!1,clearTimeout(t.timer)},3e3)},clearSetTimeOut:function(){clearTimeout(this.timer)},batchDelete:function(){var t=this,e=[];this.$refs.tableChild.selectData.forEach(function(t,a){e.push(t.id)}),0==e.length?(this.popVisible=!0,this.popTitle="提示",this.popContent="请先选择要删除的住户",this.open()):this.$confirm("您确信删除选中的住户?","确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.utils.http({url:"/person/batchDeleteHousehold",method:"POST",data:{appId:t.appId,personIdList:e}},function(e){200==e.code&&(t.utils.tip("success","删除成功"),t.getTableData())})}).catch(function(){})},goAdd:function(){this.$router.push({path:"/ownermanageadd",query:{type:"1"}})},exportBtn:function(){this.outPop=!0},outBtn:function(){var t=this;if(this.isExport=!0,0==this.tabIndex){this.outChecked=this.$refs.exportData.outChecked,this.outChecked?this.PersonListForm.withPic=1:this.PersonListForm.withPic=0;var e=[];this.$refs.tableChild.selectData.forEach(function(t,a){e.push(t.id)}),this.PersonListForm.ids=e,this.utils.http({url:"/person/personExport",method:"POST",data:this.PersonListForm},function(e){t.isExport=!1,t.outPop=!1,delete t.PersonListForm.ids,200==e.code?t.$alert("人员正在导出请稍后","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0,type:"success"}).then(function(){}).catch(function(){}):t.$alert("人员导出失败","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0,type:"error"}).then(function(){}).catch(function(){})})}else if(1==this.tabIndex){this.outChecked=this.$refs.exportData.outChecked,this.outChecked?this.PersonListForm1.withPic=1:this.PersonListForm1.withPic=0;var a=[],i=this.$refs.tableChild1.selectData;i.forEach(function(t,e){a.push(t.id)}),this.PersonListForm1.ids=a,this.utils.http({url:"/person/houseExport",method:"POST",data:this.PersonListForm1},function(e){t.isExport=!1,t.outPop=!1,delete t.PersonListForm1.ids,200==e.code?t.$alert("人员正在导出请稍后","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0,type:"success"}).then(function(){}).catch(function(){}):t.$alert("人员导出失败","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0,type:"error"}).then(function(){}).catch(function(){})})}},closeViewer:function(){this.showViewer=!1},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},handleSizeChange:function(t){this.PersonListForm.pageSize=t,this.getTableData()},handleCurrentChange:function(t){this.PersonListForm.pageNum=t,this.getTableData()},handleSizeChange1:function(t){this.PersonListForm1.pageSize=t,this.getCheckList()},handleCurrentChange1:function(t){this.PersonListForm1.pageNum=t,this.getCheckList()},handleClick:function(t,e){0==t.index?this.tabIndex=0:1==t.index&&(this.tabIndex=1)},submitUpload:function(){this.fileList.length>0?this.$refs.upload.submit():this.$message.error("请选择文件")},selectChange:function(t,e){if(!["zip"].includes(t.name.substring(t.name.lastIndexOf(".")+1)))return this.$message.error("只支持.zip压缩文件"),this.fileList=[],!1;this.fileList=e},beforeAvatarUpload:function(t,e){var a=t.name.substring(t.name.lastIndexOf(".")+1),i=["zip"],s=i.includes(a),o=t.size/1024/1024<128;return s?o?(this.importPop=!1,this.popVisible=!0,this.popTitle="提示",void(this.popContent="人员正在导入请稍后")):(this.$message.error("文件大小不能超过 128MB!"),!1):(this.$message.error("只支持.zip压缩文件"),!1)},successCheck:function(t,e,a){console.log(t),this.$refs.upload.clearFiles(),this.popVisible=!1,200==t.code?1==t.data.isOpen?(this.exportErrList=t.data.list,this.exporterrPop=!0):0==t.data.isOpen?this.$alert("人员导入成功","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0,type:"success"}).then(function(){}).catch(function(){}):2==t.data.isOpen&&this.$message.error("模板解析异常"):this.$message.error(t.msg)},removeFile:function(){this.fileList=[]},uploadErr:function(t,e,a){this.$message.error("导入失败")},remove:function(t){this.images.splice(t,1)},exceed:function(){this.$message.error("不支持多文件上传")},goView:function(t,e){this.authPopVisible=!0,this.authId=t,this.authPopTitle=e}}},h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),a("section",{staticClass:"content container-fluid"},[a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"col-sm-4 pl-0"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-default",attrs:{id:"btn_device_search",type:"button"},on:{click:t.allDistributionTimesPack}},[a("span",{staticClass:"glyphicon glyphicon-random",attrs:{"aria-hidden":"true"}}),t._v(" 批量分配时长包\n                          ")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{id:"btn_device_reset",type:"button"},on:{click:t.allOutResources}},[a("span",{staticClass:"glyphicon glyphicon-log-in",attrs:{"aria-hidden":"true"}}),t._v(" 批量移入时长包\n                          ")])])]),t._v(" "),a("div",{staticClass:"col-sm-8 text-right p-0 flex-style"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("el-select",{attrs:{placeholder:"选择机构"},model:{value:t.pageVo.orgId,callback:function(e){t.$set(t.pageVo,"orgId",e)},expression:"pageVo.orgId"}},t._l(t.orgIdList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)])]),t._v(" "),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("el-select",{attrs:{clearable:"",placeholder:"选择车场"},model:{value:t.pageVo.appId,callback:function(e){t.$set(t.pageVo,"appId",e)},expression:"pageVo.appId"}},t._l(t.appIdList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)])]),t._v(" "),a("div",{staticClass:"col-lg-3 pl-0"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择绑定的设备或序列号"},model:{value:t.timePacketForm.timesLength,callback:function(e){t.$set(t.timePacketForm,"timesLength",e)},expression:"timePacketForm.timesLength"}})],1)])]),t._v(" "),a("div",{staticClass:"col-lg-2  p-0 my-wth"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-primary",attrs:{id:"btn_device_search",type:"button"},on:{click:t.getTableData}},[a("span",{staticClass:"glyphicon glyphicon-search",attrs:{"aria-hidden":"true"}}),t._v("查询\n                          ")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{id:"btn_device_reset",type:"button"},on:{click:t.resetBtn}},[a("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v("重置\n                          ")])])])])]),t._v(" "),a("table-cmp",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableChild",attrs:{"table-data":t.tableData,"table-label":t.tableLabel,"is-show-select":t.isShowSelect}},[a("el-table-column",{attrs:{slot:"operate",label:"操作",align:"center",width:"180"},slot:"operate",scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-button",{attrs:{title:"添加时长包",type:"primary",icon:"el-icon-folder-add",round:"",size:"mini"},on:{click:function(a){t.addTimesPackAge(e.row)}}}),t._v(" "),a("el-button",{attrs:{title:"移入专线池",type:"primary",icon:"el-icon-s-unfold",round:"",size:"mini"},on:{click:function(a){t.outResources(e.row)}}})],1)]}}])})],1),t._v(" "),a("div",{staticClass:"block mt-10"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,15,20,25],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])]),t._v(" "),t.showViewer?a("el-image-viewer",{attrs:{"on-close":t.closeViewer,"url-list":t.previewImg}}):t._e(),t._v(" "),a("export-box",{ref:"exportData",attrs:{exportPopVisible:t.outPop,isExport:t.isExport},on:{"update:exportPopVisible":function(e){t.outPop=e},"update:isExport":function(e){t.isExport=e}}}),t._v(" "),a("auth-box",{ref:"authData",attrs:{authPopVisible:t.authPopVisible,authPopTitle:t.authPopTitle},on:{"update:authPopVisible":function(e){t.authPopVisible=e}}}),t._v(" "),a("el-dialog",{staticClass:"el-dialog-reset",attrs:{title:"导入失败数据",visible:t.exporterrPop,width:"60%"},on:{"update:visible":function(e){t.exporterrPop=e}}},[a("div",{staticStyle:{padding:"0px"}},[a("el-table",{attrs:{data:t.exportErrList,"max-height":"250",border:!0,"cell-style":{background:"#fff",fontSize:"14px",color:"#12111D",padding:"6px 0"},stripe:!0}},[a("el-table-column",{attrs:{property:"personName",label:"姓名",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"手机号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{property:"icNum",label:"IC卡",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{property:"personSubtype",label:"住户类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.personSubtype?a("span",[t._v("户主")]):t._e(),t._v(" "),"2"==e.row.personSubtype?a("span",[t._v("家庭成员")]):t._e(),t._v(" "),"3"==e.row.personSubtype?a("span",[t._v("租客")]):t._e(),t._v(" "),"5"==e.row.personSubtype?a("span",[t._v("其他")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"buildName",label:"楼栋",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{property:"unitName",label:"单元",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{property:"houseName",label:"房号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{property:"errorMsg",label:"失败原因","min-width":"120"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.exporterrPop=!1}}},[t._v("取 消")])],1)]),t._v(" "),a("msg-box",{attrs:{popVisible:t.popVisible,popTitle:t.popTitle,popContent:t.popContent},on:{"update:popVisible":function(e){t.popVisible=e}}}),t._v(" "),a("el-dialog",{attrs:{title:"导入",visible:t.exportVisible,width:"30%"},on:{"update:visible":function(e){t.exportVisible=e}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("el-input",{attrs:{type:"textarea",placeholder:"请将激活码输入到该输入框"},model:{value:t.activationCode,callback:function(e){t.activationCode=e},expression:"activationCode"}})],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.exportVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exportVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"选择时长包",visible:t.timesPackAgeDialogVisible,width:"20%"},on:{"update:visible":function(e){t.timesPackAgeDialogVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading1,expression:"loading1"}]},[a("el-row",{staticClass:"mt-10",attrs:{align:"middle"}},[a("el-col",{attrs:{span:6}},[t._v("规格")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("总数")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("选择数量")])],1),t._v(" "),t._l(t.timesPackAgeList,function(e,i){return a("el-row",{key:i,staticClass:"mt-10 pt-10",staticStyle:{"border-top":"1px solid #f0f0f0"},attrs:{align:"middle"}},[a("el-col",{attrs:{span:6}},[t._v(t._s(e.durationDesc))]),t._v(" "),a("el-col",{staticClass:"pl-10",attrs:{span:6}},[t._v(t._s(e.packageNum))]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入数量",onkeyup:"value=value.replace(/[^\\d]/g,'')"},on:{change:function(e){t.timesChange(e,i)}},model:{value:e.timesPackAgeNum,callback:function(a){t.$set(e,"timesPackAgeNum",a)},expression:"item.timesPackAgeNum"}})],1)],1)})],2),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.timesPackAgeDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),t.isBtn?a("el-button",{attrs:{type:"primary",loading:!0}},[t._v("提交中")]):a("el-button",{attrs:{type:"primary"},on:{click:t.sendTimesPackAge}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"选择资源池",visible:t.resourcesDialogVisible,width:"20%"},on:{"update:visible":function(e){t.resourcesDialogVisible=e}}},[a("div",{staticClass:"device-list"},[a("el-radio-group",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],model:{value:t.resourcesId,callback:function(e){t.resourcesId=e},expression:"resourcesId"}},t._l(t.resourcesList,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.resourcesDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.selectResource}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.TipsdialogVisible,width:"30%"},on:{"update:visible":function(e){t.TipsdialogVisible=e}}},[t._l(t.tipsList,function(e,i){return a("div",{key:i,class:e.success?"green":"red"},[t._v(t._s(e.message))])}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.TipsdialogVisible=!1}}},[t._v("确 定")])],1)],2),t._v(" "),a("el-dialog",{attrs:{title:"转让给以下机构",visible:t.transferInstitutionVisible,width:"30%"},on:{"update:visible":function(e){t.transferInstitutionVisible=e}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("el-tree",{attrs:{props:t.props,load:t.loadNode,lazy:"","show-checkbox":""},on:{"check-change":t.handleCheckChange}})],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.transferInstitutionVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.transferInstitutionVisible=!1}}},[t._v("确 定")])],1)])],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content-header"},[a("h1",{staticClass:"nice"},[t._v("\n        资源池 - 时长包\n          ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:"/"}},[a("i",{staticClass:"glyphicon glyphicon-home"}),t._v(" 首页\n            ")])]),t._v(" "),a("li",{staticClass:"active"},[a("i",{staticClass:"glyphicon glyphicon-adjust"}),t._v(" 时长包\n          ")])])])}],b={render:h,staticRenderFns:g},m=b,f=a("VU/8"),v=i,x=f(u,m,!1,v,"data-v-0294a81e",null);e.default=x.exports}});